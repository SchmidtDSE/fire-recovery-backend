{
  "components": {
    "schemas": {
      "BaseModel": {
        "properties": {},
        "title": "BaseModel",
        "type": "object"
      },
      "Body_upload_shapefile_fire_recovery_upload_shapefile_post": {
        "properties": {
          "boundary_type": {
            "default": "refined",
            "description": "Boundary type: 'coarse' or 'refined'",
            "title": "Boundary Type",
            "type": "string"
          },
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "shapefile": {
            "description": "Zipped shapefile (.zip containing .shp, .shx, .dbf, .prj)",
            "format": "binary",
            "title": "Shapefile",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "shapefile"
        ],
        "title": "Body_upload_shapefile_fire_recovery_upload_shapefile_post",
        "type": "object"
      },
      "Feature": {
        "description": "Feature Model",
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "maxItems": 4,
                "minItems": 4,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "maxItems": 6,
                "minItems": 6,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "geometry": {
            "anyOf": [
              {
                "discriminator": {
                  "mapping": {
                    "GeometryCollection": "#/components/schemas/GeometryCollection",
                    "LineString": "#/components/schemas/LineString",
                    "MultiLineString": "#/components/schemas/MultiLineString",
                    "MultiPoint": "#/components/schemas/MultiPoint",
                    "MultiPolygon": "#/components/schemas/MultiPolygon",
                    "Point": "#/components/schemas/Point",
                    "Polygon": "#/components/schemas/Polygon"
                  },
                  "propertyName": "type"
                },
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/Point"
                  },
                  {
                    "$ref": "#/components/schemas/MultiPoint"
                  },
                  {
                    "$ref": "#/components/schemas/LineString"
                  },
                  {
                    "$ref": "#/components/schemas/MultiLineString"
                  },
                  {
                    "$ref": "#/components/schemas/Polygon"
                  },
                  {
                    "$ref": "#/components/schemas/MultiPolygon"
                  },
                  {
                    "$ref": "#/components/schemas/GeometryCollection"
                  }
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Geometry"
          },
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "properties": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "$ref": "#/components/schemas/BaseModel"
              },
              {
                "type": "null"
              }
            ],
            "title": "Properties"
          },
          "type": {
            "const": "Feature",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "geometry",
          "properties"
        ],
        "title": "Feature",
        "type": "object"
      },
      "FireSeverityResponse": {
        "description": "Response containing fire severity analysis results.",
        "example": {
          "coarse_severity_cog_urls": {
            "dnbr": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../dnbr.tif",
            "postfire_nbr": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../postfire_nbr.tif",
            "prefire_nbr": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../prefire_nbr.tif",
            "rbr": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../rbr.tif",
            "rdnbr": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../rdnbr.tif"
          },
          "fire_event_name": "Geology_Fire",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "status": "complete"
        },
        "properties": {
          "coarse_severity_cog_urls": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "URLs to the COGs for each severity metric (prefire_nbr, postfire_nbr, dnbr, rdnbr, rbr)",
            "title": "Coarse Severity Cog Urls",
            "type": "object"
          },
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "job_id": {
            "description": "Unique job identifier for tracking",
            "title": "Job Id",
            "type": "string"
          },
          "status": {
            "description": "Status of the operation",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "status",
          "job_id",
          "coarse_severity_cog_urls"
        ],
        "title": "FireSeverityResponse",
        "type": "object"
      },
      "GeoJSONUploadRequest": {
        "description": "Request model for GeoJSON boundary upload.",
        "example": {
          "boundary_type": "refined",
          "fire_event_name": "Geology_Fire",
          "geojson": {
            "coordinates": [
              [
                [
                  -116.098276,
                  33.929925
                ],
                [
                  -116.098276,
                  33.880794
                ],
                [
                  -116.019318,
                  33.880794
                ],
                [
                  -116.019318,
                  33.929925
                ],
                [
                  -116.098276,
                  33.929925
                ]
              ]
            ],
            "type": "Polygon"
          }
        },
        "properties": {
          "boundary_type": {
            "default": "coarse",
            "description": "Boundary type: 'coarse' or 'refined'",
            "title": "Boundary Type",
            "type": "string"
          },
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "geojson": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Polygon"
              },
              {
                "$ref": "#/components/schemas/MultiPolygon"
              },
              {
                "$ref": "#/components/schemas/Feature"
              }
            ],
            "description": "GeoJSON boundary (Polygon, MultiPolygon, or Feature)",
            "title": "Geojson"
          }
        },
        "required": [
          "fire_event_name",
          "geojson"
        ],
        "title": "GeoJSONUploadRequest",
        "type": "object"
      },
      "GeometryCollection": {
        "description": "GeometryCollection Model",
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "maxItems": 4,
                "minItems": 4,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "maxItems": 6,
                "minItems": 6,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "geometries": {
            "items": {
              "discriminator": {
                "mapping": {
                  "GeometryCollection": "#/components/schemas/GeometryCollection",
                  "LineString": "#/components/schemas/LineString",
                  "MultiLineString": "#/components/schemas/MultiLineString",
                  "MultiPoint": "#/components/schemas/MultiPoint",
                  "MultiPolygon": "#/components/schemas/MultiPolygon",
                  "Point": "#/components/schemas/Point",
                  "Polygon": "#/components/schemas/Polygon"
                },
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/components/schemas/Point"
                },
                {
                  "$ref": "#/components/schemas/MultiPoint"
                },
                {
                  "$ref": "#/components/schemas/LineString"
                },
                {
                  "$ref": "#/components/schemas/MultiLineString"
                },
                {
                  "$ref": "#/components/schemas/Polygon"
                },
                {
                  "$ref": "#/components/schemas/MultiPolygon"
                },
                {
                  "$ref": "#/components/schemas/GeometryCollection"
                }
              ]
            },
            "title": "Geometries",
            "type": "array"
          },
          "type": {
            "const": "GeometryCollection",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "geometries"
        ],
        "title": "GeometryCollection",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "HealthCheckResponse": {
        "description": "Response model for health check endpoint.",
        "example": {
          "checks": {
            "stac": {
              "latency_ms": 12,
              "status": "healthy"
            },
            "storage": {
              "latency_ms": 45,
              "status": "healthy"
            }
          },
          "fire_event_name": "health-check",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "overall_status": "healthy",
          "status": "healthy",
          "timestamp": 1706486400.123,
          "unhealthy_components": 0
        },
        "properties": {
          "checks": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "description": "Individual component health check results",
            "title": "Checks",
            "type": "object"
          },
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "job_id": {
            "description": "Unique job identifier for tracking",
            "title": "Job Id",
            "type": "string"
          },
          "overall_status": {
            "description": "Overall system health status ('healthy' or 'unhealthy')",
            "title": "Overall Status",
            "type": "string"
          },
          "status": {
            "description": "Status of the operation",
            "title": "Status",
            "type": "string"
          },
          "timestamp": {
            "description": "Unix timestamp of the health check",
            "title": "Timestamp",
            "type": "number"
          },
          "unhealthy_components": {
            "description": "Count of unhealthy components",
            "title": "Unhealthy Components",
            "type": "integer"
          }
        },
        "required": [
          "fire_event_name",
          "status",
          "job_id",
          "overall_status",
          "timestamp",
          "checks",
          "unhealthy_components"
        ],
        "title": "HealthCheckResponse",
        "type": "object"
      },
      "LineString": {
        "description": "LineString Model",
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "maxItems": 4,
                "minItems": 4,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "maxItems": 6,
                "minItems": 6,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "coordinates": {
            "items": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/Position2D"
                },
                {
                  "$ref": "#/components/schemas/Position3D"
                }
              ]
            },
            "minItems": 2,
            "title": "Coordinates",
            "type": "array"
          },
          "type": {
            "const": "LineString",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "coordinates"
        ],
        "title": "LineString",
        "type": "object"
      },
      "MultiLineString": {
        "description": "MultiLineString Model",
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "maxItems": 4,
                "minItems": 4,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "maxItems": 6,
                "minItems": 6,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "coordinates": {
            "items": {
              "items": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/Position2D"
                  },
                  {
                    "$ref": "#/components/schemas/Position3D"
                  }
                ]
              },
              "minItems": 2,
              "type": "array"
            },
            "title": "Coordinates",
            "type": "array"
          },
          "type": {
            "const": "MultiLineString",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "coordinates"
        ],
        "title": "MultiLineString",
        "type": "object"
      },
      "MultiPoint": {
        "description": "MultiPoint Model",
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "maxItems": 4,
                "minItems": 4,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "maxItems": 6,
                "minItems": 6,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "coordinates": {
            "items": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/Position2D"
                },
                {
                  "$ref": "#/components/schemas/Position3D"
                }
              ]
            },
            "title": "Coordinates",
            "type": "array"
          },
          "type": {
            "const": "MultiPoint",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "coordinates"
        ],
        "title": "MultiPoint",
        "type": "object"
      },
      "MultiPolygon": {
        "description": "MultiPolygon Model",
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "maxItems": 4,
                "minItems": 4,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "maxItems": 6,
                "minItems": 6,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "coordinates": {
            "items": {
              "items": {
                "items": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/Position2D"
                    },
                    {
                      "$ref": "#/components/schemas/Position3D"
                    }
                  ]
                },
                "minItems": 4,
                "type": "array"
              },
              "type": "array"
            },
            "title": "Coordinates",
            "type": "array"
          },
          "type": {
            "const": "MultiPolygon",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "coordinates"
        ],
        "title": "MultiPolygon",
        "type": "object"
      },
      "Point": {
        "description": "Point Model",
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "maxItems": 4,
                "minItems": 4,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "maxItems": 6,
                "minItems": 6,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "coordinates": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Position2D"
              },
              {
                "$ref": "#/components/schemas/Position3D"
              }
            ],
            "title": "Coordinates"
          },
          "type": {
            "const": "Point",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "coordinates"
        ],
        "title": "Point",
        "type": "object"
      },
      "Polygon": {
        "description": "Polygon Model",
        "properties": {
          "bbox": {
            "anyOf": [
              {
                "maxItems": 4,
                "minItems": 4,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "maxItems": 6,
                "minItems": 6,
                "prefixItems": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "number"
                  }
                ],
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bbox"
          },
          "coordinates": {
            "items": {
              "items": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/Position2D"
                  },
                  {
                    "$ref": "#/components/schemas/Position3D"
                  }
                ]
              },
              "minItems": 4,
              "type": "array"
            },
            "title": "Coordinates",
            "type": "array"
          },
          "type": {
            "const": "Polygon",
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "type",
          "coordinates"
        ],
        "title": "Polygon",
        "type": "object"
      },
      "Position2D": {
        "maxItems": 2,
        "minItems": 2,
        "prefixItems": [
          {
            "title": "Longitude",
            "type": "number"
          },
          {
            "title": "Latitude",
            "type": "number"
          }
        ],
        "type": "array"
      },
      "Position3D": {
        "maxItems": 3,
        "minItems": 3,
        "prefixItems": [
          {
            "title": "Longitude",
            "type": "number"
          },
          {
            "title": "Latitude",
            "type": "number"
          },
          {
            "title": "Altitude",
            "type": "number"
          }
        ],
        "type": "array"
      },
      "ProcessingRequest": {
        "description": "Request model for fire severity analysis.",
        "example": {
          "coarse_geojson": {
            "coordinates": [
              [
                [
                  -116.098276,
                  33.929925
                ],
                [
                  -116.098276,
                  33.880794
                ],
                [
                  -116.019318,
                  33.880794
                ],
                [
                  -116.019318,
                  33.929925
                ],
                [
                  -116.098276,
                  33.929925
                ]
              ]
            ],
            "type": "Polygon"
          },
          "fire_event_name": "Geology_Fire",
          "postfire_date_range": [
            "2023-06-17",
            "2023-06-22"
          ],
          "prefire_date_range": [
            "2023-06-01",
            "2023-06-09"
          ]
        },
        "properties": {
          "coarse_geojson": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Polygon"
              },
              {
                "$ref": "#/components/schemas/MultiPolygon"
              },
              {
                "$ref": "#/components/schemas/Feature"
              }
            ],
            "description": "GeoJSON of bounding box AOI (Polygon, MultiPolygon, or Feature)",
            "title": "Coarse Geojson"
          },
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "postfire_date_range": {
            "description": "Date range for postfire imagery [start, end] (2-3 weeks after containment)",
            "items": {
              "type": "string"
            },
            "title": "Postfire Date Range",
            "type": "array"
          },
          "prefire_date_range": {
            "description": "Date range for prefire imagery [start, end] (2-3 weeks before ignition)",
            "items": {
              "type": "string"
            },
            "title": "Prefire Date Range",
            "type": "array"
          }
        },
        "required": [
          "fire_event_name",
          "coarse_geojson",
          "prefire_date_range",
          "postfire_date_range"
        ],
        "title": "ProcessingRequest",
        "type": "object"
      },
      "ProcessingStartedResponse": {
        "description": "Response when async processing has been initiated.",
        "example": {
          "fire_event_name": "Geology_Fire",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "status": "Processing started"
        },
        "properties": {
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "job_id": {
            "description": "Unique job identifier for tracking",
            "title": "Job Id",
            "type": "string"
          },
          "status": {
            "description": "Status of the operation",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "status",
          "job_id"
        ],
        "title": "ProcessingStartedResponse",
        "type": "object"
      },
      "RefineRequest": {
        "description": "Request model for boundary refinement.",
        "example": {
          "fire_event_name": "Geology_Fire",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "refined_geojson": {
            "coordinates": [
              [
                [
                  -116.08,
                  33.92
                ],
                [
                  -116.08,
                  33.89
                ],
                [
                  -116.03,
                  33.89
                ],
                [
                  -116.03,
                  33.92
                ],
                [
                  -116.08,
                  33.92
                ]
              ]
            ],
            "type": "Polygon"
          }
        },
        "properties": {
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "job_id": {
            "description": "Job ID from the original fire severity analysis",
            "title": "Job Id",
            "type": "string"
          },
          "refined_geojson": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Polygon"
              },
              {
                "$ref": "#/components/schemas/MultiPolygon"
              },
              {
                "$ref": "#/components/schemas/Feature"
              }
            ],
            "description": "User-drawn refined boundary (Polygon, MultiPolygon, or Feature)",
            "title": "Refined Geojson"
          }
        },
        "required": [
          "fire_event_name",
          "refined_geojson",
          "job_id"
        ],
        "title": "RefineRequest",
        "type": "object"
      },
      "RefinedBoundaryResponse": {
        "description": "Response containing refined boundary and cropped severity COGs.",
        "example": {
          "fire_event_name": "Geology_Fire",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "refined_boundary_geojson_url": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../refined_boundary.geojson",
          "refined_severity_cog_urls": {
            "dnbr": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../refined_dnbr.tif",
            "rbr": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../refined_rbr.tif",
            "rdnbr": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../refined_rdnbr.tif"
          },
          "status": "complete"
        },
        "properties": {
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "job_id": {
            "description": "Unique job identifier for tracking",
            "title": "Job Id",
            "type": "string"
          },
          "refined_boundary_geojson_url": {
            "description": "URL to the refined boundary GeoJSON",
            "title": "Refined Boundary Geojson Url",
            "type": "string"
          },
          "refined_severity_cog_urls": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "URLs to the refined COGs for each severity metric",
            "title": "Refined Severity Cog Urls",
            "type": "object"
          },
          "status": {
            "description": "Status of the operation",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "status",
          "job_id",
          "refined_boundary_geojson_url",
          "refined_severity_cog_urls"
        ],
        "title": "RefinedBoundaryResponse",
        "type": "object"
      },
      "TaskPendingResponse": {
        "description": "Response for when a task is still being processed.",
        "example": {
          "fire_event_name": "Geology_Fire",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "status": "pending"
        },
        "properties": {
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "job_id": {
            "description": "Unique job identifier for tracking",
            "title": "Job Id",
            "type": "string"
          },
          "status": {
            "description": "Status of the operation",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "status",
          "job_id"
        ],
        "title": "TaskPendingResponse",
        "type": "object"
      },
      "UploadedGeoJSONResponse": {
        "description": "Response for successful GeoJSON upload.",
        "example": {
          "boundary_type": "refined",
          "fire_event_name": "Geology_Fire",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "refined_boundary_geojson_url": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../boundary.geojson",
          "status": "complete"
        },
        "properties": {
          "boundary_type": {
            "description": "Type of boundary ('coarse' or 'refined')",
            "title": "Boundary Type",
            "type": "string"
          },
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "job_id": {
            "description": "Unique job identifier for tracking",
            "title": "Job Id",
            "type": "string"
          },
          "refined_boundary_geojson_url": {
            "description": "URL to the uploaded boundary GeoJSON",
            "title": "Refined Boundary Geojson Url",
            "type": "string"
          },
          "status": {
            "description": "Status of the operation",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "status",
          "job_id",
          "refined_boundary_geojson_url",
          "boundary_type"
        ],
        "title": "UploadedGeoJSONResponse",
        "type": "object"
      },
      "UploadedShapefileZipResponse": {
        "description": "Response for successful shapefile upload.",
        "example": {
          "boundary_geojson_url": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../boundary.geojson",
          "boundary_type": "refined",
          "fire_event_name": "Geology_Fire",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "shapefile_url": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../boundary.zip",
          "status": "complete"
        },
        "properties": {
          "boundary_geojson_url": {
            "description": "URL to the extracted boundary GeoJSON",
            "title": "Boundary Geojson Url",
            "type": "string"
          },
          "boundary_type": {
            "description": "Type of boundary ('coarse' or 'refined')",
            "title": "Boundary Type",
            "type": "string"
          },
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "job_id": {
            "description": "Unique job identifier for tracking",
            "title": "Job Id",
            "type": "string"
          },
          "shapefile_url": {
            "description": "URL to the uploaded shapefile zip",
            "title": "Shapefile Url",
            "type": "string"
          },
          "status": {
            "description": "Status of the operation",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "status",
          "job_id",
          "shapefile_url",
          "boundary_geojson_url",
          "boundary_type"
        ],
        "title": "UploadedShapefileZipResponse",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      },
      "VegMapMatrixResponse": {
        "description": "Response containing vegetation impact analysis results.",
        "example": {
          "fire_event_name": "Geology_Fire",
          "fire_veg_matrix_csv_url": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../veg_matrix.csv",
          "fire_veg_matrix_json_url": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../veg_matrix.json",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "status": "complete"
        },
        "properties": {
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "fire_veg_matrix_csv_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "URL to vegetation impact matrix CSV",
            "title": "Fire Veg Matrix Csv Url"
          },
          "fire_veg_matrix_json_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "URL to vegetation impact matrix JSON (for dashboard visualization)",
            "title": "Fire Veg Matrix Json Url"
          },
          "job_id": {
            "description": "Unique job identifier for tracking",
            "title": "Job Id",
            "type": "string"
          },
          "status": {
            "description": "Status of the operation",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "status",
          "job_id"
        ],
        "title": "VegMapMatrixResponse",
        "type": "object"
      },
      "VegMapResolveRequest": {
        "description": "Request model for vegetation impact analysis.",
        "example": {
          "fire_cog_url": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../refined_rbr.tif",
          "fire_event_name": "Geology_Fire",
          "geojson_url": "https://storage.googleapis.com/fire-recovery-temp/Geology_Fire/550e8400.../refined_boundary.geojson",
          "job_id": "550e8400-e29b-41d4-a716-446655440000",
          "park_unit_id": "JOTR",
          "severity_breaks": [
            0.1,
            0.27,
            0.44,
            0.66
          ],
          "veg_gpkg_url": "https://storage.googleapis.com/nps-veg-data/JOTR_vegetation.gpkg"
        },
        "properties": {
          "fire_cog_url": {
            "description": "URL to the fire severity COG (typically RBR for best results)",
            "title": "Fire Cog Url",
            "type": "string"
          },
          "fire_event_name": {
            "description": "Name of the fire event",
            "title": "Fire Event Name",
            "type": "string"
          },
          "geojson_url": {
            "description": "URL to the fire boundary GeoJSON",
            "title": "Geojson Url",
            "type": "string"
          },
          "job_id": {
            "description": "Job ID from the fire severity analysis",
            "title": "Job Id",
            "type": "string"
          },
          "park_unit_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Park unit code for vegetation schema (e.g., 'JOTR', 'MOJN'). Auto-detected if omitted.",
            "title": "Park Unit Id"
          },
          "severity_breaks": {
            "description": "Classification thresholds for severity categories (e.g., [0.1, 0.27, 0.44, 0.66] for unburned/low/moderate/high/very-high)",
            "items": {
              "type": "number"
            },
            "title": "Severity Breaks",
            "type": "array"
          },
          "veg_gpkg_url": {
            "description": "URL to the NPS vegetation map GeoPackage",
            "title": "Veg Gpkg Url",
            "type": "string"
          }
        },
        "required": [
          "fire_event_name",
          "veg_gpkg_url",
          "fire_cog_url",
          "job_id",
          "severity_breaks",
          "geojson_url"
        ],
        "title": "VegMapResolveRequest",
        "type": "object"
      }
    }
  },
  "info": {
    "description": "API for fire recovery analysis tools including fire severity analysis, boundary refinement, and vegetation impact assessment",
    "title": "Fire Recovery Backend",
    "version": "1.0.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "root__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Root  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Root"
      }
    },
    "/cache_test": {
      "get": {
        "operationId": "cache_test_cache_test_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Cache Test Cache Test Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Cache Test"
      }
    },
    "/fire-recovery/": {
      "get": {
        "operationId": "root_fire_recovery__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Root Fire Recovery  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          }
        },
        "summary": "Root",
        "tags": [
          "Fire Recovery",
          "Root"
        ]
      }
    },
    "/fire-recovery/healthz": {
      "get": {
        "description": "System health check endpoint.\n\nVerifies connectivity to storage, STAC catalog, and other dependencies.\n\nSee [docs/ENDPOINTS.md#get-healthz](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#get-healthz) for details.",
        "operationId": "health_check_fire_recovery_healthz_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          }
        },
        "summary": "Health Check",
        "tags": [
          "Fire Recovery",
          "Health"
        ]
      }
    },
    "/fire-recovery/process/analyze_fire_severity": {
      "post": {
        "description": "Initiate fire severity analysis using Sentinel-2 satellite imagery.\n\nCalculates NBR, dNBR, RdNBR, and RBR indices. Returns immediately with a job ID for polling.\n\nSee [docs/ENDPOINTS.md#post-processanalyze_fire_severity](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#post-processanalyze_fire_severity) for details.",
        "operationId": "analyze_fire_severity_fire_recovery_process_analyze_fire_severity_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProcessingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingStartedResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Analyze Fire Severity",
        "tags": [
          "Fire Recovery",
          "Fire Severity"
        ]
      }
    },
    "/fire-recovery/process/refine": {
      "post": {
        "description": "Refine fire boundary and crop severity COGs to new geometry.\n\nUses user-drawn refined boundary to crop existing coarse COGs.\n\nSee [docs/ENDPOINTS.md#post-processrefine](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#post-processrefine) for details.",
        "operationId": "refine_fire_boundary_fire_recovery_process_refine_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefineRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingStartedResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Refine Fire Boundary",
        "tags": [
          "Fire Recovery",
          "Boundary Refinement"
        ]
      }
    },
    "/fire-recovery/process/resolve_against_veg_map": {
      "post": {
        "description": "Analyze fire severity impacts on vegetation communities.\n\nPerforms zonal statistics to calculate area affected by severity class per vegetation type.\n\nSee [docs/ENDPOINTS.md#post-processresolve_against_veg_map](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#post-processresolve_against_veg_map) for details.",
        "operationId": "resolve_against_veg_map_fire_recovery_process_resolve_against_veg_map_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VegMapResolveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingStartedResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Resolve Against Veg Map",
        "tags": [
          "Fire Recovery",
          "Vegetation Map Analysis"
        ]
      }
    },
    "/fire-recovery/result/analyze_fire_severity/{fire_event_name}/{job_id}": {
      "get": {
        "description": "Retrieve fire severity analysis results.\n\nPoll until status is 'complete'. Returns URLs to severity COGs.\n\nSee [docs/ENDPOINTS.md#get-resultanalyze_fire_severityfire_event_namejob_id](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#get-resultanalyze_fire_severityfire_event_namejob_id) for details.",
        "operationId": "get_fire_severity_result_fire_recovery_result_analyze_fire_severity__fire_event_name___job_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "fire_event_name",
            "required": true,
            "schema": {
              "title": "Fire Event Name",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "job_id",
            "required": true,
            "schema": {
              "title": "Job Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/TaskPendingResponse"
                    },
                    {
                      "$ref": "#/components/schemas/FireSeverityResponse"
                    }
                  ],
                  "title": "Response Get Fire Severity Result Fire Recovery Result Analyze Fire Severity  Fire Event Name   Job Id  Get"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Fire Severity Result",
        "tags": [
          "Fire Recovery",
          "Fire Severity"
        ]
      }
    },
    "/fire-recovery/result/refine/{fire_event_name}/{job_id}": {
      "get": {
        "description": "Retrieve boundary refinement results.\n\nPoll until status is 'complete'. Returns URLs to refined boundary and cropped COGs.\n\nSee [docs/ENDPOINTS.md#get-resultrefinefire_event_namejob_id](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#get-resultrefinefire_event_namejob_id) for details.",
        "operationId": "get_refine_result_fire_recovery_result_refine__fire_event_name___job_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "fire_event_name",
            "required": true,
            "schema": {
              "title": "Fire Event Name",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "job_id",
            "required": true,
            "schema": {
              "title": "Job Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/TaskPendingResponse"
                    },
                    {
                      "$ref": "#/components/schemas/RefinedBoundaryResponse"
                    }
                  ],
                  "title": "Response Get Refine Result Fire Recovery Result Refine  Fire Event Name   Job Id  Get"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Refine Result",
        "tags": [
          "Fire Recovery",
          "Boundary Refinement"
        ]
      }
    },
    "/fire-recovery/result/resolve_against_veg_map/{fire_event_name}/{job_id}": {
      "get": {
        "description": "Retrieve vegetation impact analysis results.\n\nPoll until status is 'complete'. Returns URLs to CSV and JSON impact matrices.\n\nSee [docs/ENDPOINTS.md#get-resultresolve_against_veg_mapfire_event_namejob_id](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#get-resultresolve_against_veg_mapfire_event_namejob_id) for details.",
        "operationId": "get_veg_map_result_fire_recovery_result_resolve_against_veg_map__fire_event_name___job_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "fire_event_name",
            "required": true,
            "schema": {
              "title": "Fire Event Name",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "job_id",
            "required": true,
            "schema": {
              "title": "Job Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "items": {
                      "type": "number"
                    },
                    "type": "array"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Severity Breaks"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/TaskPendingResponse"
                    },
                    {
                      "$ref": "#/components/schemas/VegMapMatrixResponse"
                    }
                  ],
                  "title": "Response Get Veg Map Result Fire Recovery Result Resolve Against Veg Map  Fire Event Name   Job Id  Get"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Veg Map Result",
        "tags": [
          "Fire Recovery",
          "Vegetation Map Analysis"
        ]
      }
    },
    "/fire-recovery/upload/geojson": {
      "post": {
        "description": "Upload a GeoJSON boundary for a fire event.\n\nSee [docs/ENDPOINTS.md#post-uploadgeojson](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#post-uploadgeojson) for details.",
        "operationId": "upload_geojson_fire_recovery_upload_geojson_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GeoJSONUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadedGeoJSONResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upload Geojson",
        "tags": [
          "Fire Recovery",
          "Upload"
        ]
      }
    },
    "/fire-recovery/upload/shapefile": {
      "post": {
        "description": "Upload a zipped shapefile boundary for a fire event.\n\nAccepts multipart/form-data with shapefile zip and extracts boundary GeoJSON.\n\nSee [docs/ENDPOINTS.md#post-uploadshapefile](https://github.com/SchmidtDSE/fire-recovery-backend/blob/main/docs/ENDPOINTS.md#post-uploadshapefile) for details.",
        "operationId": "upload_shapefile_fire_recovery_upload_shapefile_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_shapefile_fire_recovery_upload_shapefile_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadedShapefileZipResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upload Shapefile",
        "tags": [
          "Fire Recovery",
          "Upload"
        ]
      }
    }
  }
}